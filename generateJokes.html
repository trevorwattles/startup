<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gigglr</title>
    <link rel="icon" href="favicon.ico" />
    <link rel="stylesheet" href="generateJokes.css">
  </head>
  <body>
    <header>
      <h1>Gigglr<sup>&reg;</sup></h1>
      <nav>
        <menu>
          <li><a href="index.html">Home</a></li>
          <li><a href="generateJokes.html">Generate Jokes</a></li>
          <li><a href="savedJokes.html">Saved Jokes</a></li>
          <li><a href="about.html">About</a></li>
        </menu>
      </nav>
      <hr />
    </header>

    <main>
      <h1 id="welcome-message">Welcome, Mystery User</h1>
      <button onclick="generateJoke()">Generate Joke</button>
      <p id="joke"></p>

      <button id="save-joke-btn" onclick="saveJoke()" style="display: none;">Save Joke</button>

      <h3>Saved Jokes from Users</h3>
      <ul class="notification">
        <li class="user-name">Sarah saved "I told my suitcase there'd be no vacations… now it’s emotional baggage."</li>
        <li class="user-name">Ashley saved "Parallel lines have so much in common. Too bad they’ll never meet."</li>
        <li class="user-name">James saved "Why did the scarecrow win an award? He was outstanding in his field."</li>
      </ul>

      <script>
        function getUsernameFromURL() {
          const params = new URLSearchParams(window.location.search);
          return params.get("username") || "Mystery User";
        }
        
        document.getElementById("welcome-message").innerText = "Welcome, " + getUsernameFromURL();
        
        function generateJoke() {
          const jokes = [
              "I told my suitcase there'd be no vacations… now it’s emotional baggage.",
              "Parallel lines have so much in common. Too bad they’ll never meet.",
              "Why did the scarecrow win an award? He was outstanding in his field."
          ];
          
          const randomIndex = Math.floor(Math.random() * jokes.length);
          const jokeText = jokes[randomIndex];

          const jokeElement = document.getElementById("joke");

          jokeElement.innerText = jokeText;
          jokeElement.style.opacity = "1";
          jokeElement.style.transform = "translateY(0)";
          jokeElement.style.border = "2px solid #ffcc00";

          document.getElementById("save-joke-btn").style.display = "block";
      }



        function saveJoke() {
          const jokeText = document.getElementById("joke").innerText;
          if (jokeText) {
            alert("Joke saved: " + jokeText);
          }
        }
      </script>
    </main>

    <footer>
      <hr />
      <span class="text-reset">Trevor Wattles</span>
      <br />
      <a href="https://github.com/trevorwattles/startup">GitHub</a>
    </footer>
  </body>
</html>

